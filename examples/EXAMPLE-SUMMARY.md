# ğŸš€ SaaS Starter Example - Complete Demonstration

## Overview

The **SaaS Starter** example project in `examples/saas-starter/` demonstrates the complete vibe-workflow system in action.

It shows how a real-world full-stack SaaS application would be set up with:
- âœ… Intelligent codebase analysis
- âœ… Automatic framework detection
- âœ… Constitutional template generation
- âœ… Project-specific rule extraction
- âœ… Developer workflow integration
- âœ… Learning system integration

---

## ğŸ“ Example Project Structure

```
examples/saas-starter/
â”‚
â”œâ”€â”€ ğŸ“„ package.json                 # Real SaaS tech stack
â”‚   â”œâ”€â”€ NestJS 10.4.20 (REST API)
â”‚   â”œâ”€â”€ React + Next.js (Frontend)
â”‚   â”œâ”€â”€ PostgreSQL + Prisma (Database)
â”‚   â”œâ”€â”€ Stripe (Payments)
â”‚   â”œâ”€â”€ socket.io (Real-time)
â”‚   â””â”€â”€ Passport.js (Authentication)
â”‚
â”œâ”€â”€ ğŸ“„ CLAUDE.md                    # Project guidelines
â”‚   â”œâ”€â”€ Database & Migrations (12 rules)
â”‚   â”œâ”€â”€ Authentication & Security (20 rules)
â”‚   â”œâ”€â”€ API Development (10 rules)
â”‚   â”œâ”€â”€ Payment Processing (7 rules)
â”‚   â”œâ”€â”€ Real-time Communication (8 rules)
â”‚   â”œâ”€â”€ Testing (12 rules)
â”‚   â”œâ”€â”€ Deployment & DevOps (16 rules)
â”‚   â””â”€â”€ UI Components (16 rules)
â”‚
â”œâ”€â”€ ğŸ“„ README.md                    # Example documentation
â”‚   â””â”€â”€ Explains what demo shows
â”‚
â”œâ”€â”€ ğŸ“„ WORKFLOW-DEMO.md             # Real usage scenarios
â”‚   â”œâ”€â”€ Scenario 1: Stripe webhook implementation
â”‚   â”œâ”€â”€ Scenario 2: JWT authentication
â”‚   â””â”€â”€ Learning capture examples
â”‚
â””â”€â”€ ğŸ“ .vibe-check/                 # â† AUTO-GENERATED BY INIT
    â”œâ”€â”€ enhanced-mcp-server/        # Vibe-workflow core
    â””â”€â”€ constitutions/
        â”œâ”€â”€ ğŸ“„ auth-security.json      (20 rules extracted)
        â”œâ”€â”€ ğŸ“„ payment-processing.json (3 rules)
        â””â”€â”€ ğŸ“„ realtime-communication.json (3 rules)
```

---

## ğŸ” What Gets Auto-Generated

### 1. Framework & Dependency Analysis

```
âœ… DETECTED FRAMEWORKS:
   â€¢ NestJS 10.4.20
   â€¢ Express (implied by NestJS)
   â€¢ React 18.2.0
   â€¢ Next.js 14.0.0
   â€¢ Prisma 5.0.0

âœ… DETECTED SPECIALIZED DOMAINS:
   â€¢ Payment Processing (stripe, @stripe/stripe-js)
   â€¢ Authentication (passport, passport-jwt, jwt)
   â€¢ Real-time Communication (socket.io)
   â€¢ Database (pg, prisma, @prisma/client)
```

### 2. Rule Extraction from CLAUDE.md

The system intelligently scans CLAUDE.md sections:

| Section | Rules Extracted | Work Type Template |
|---------|-----------------|-------------------|
| **Database & Migrations** | 12 rules | (Not generated - only extracted) |
| **Authentication & Security** | 20 rules | âœ… auth-security.json |
| **API Development** | 10 rules | (Not generated - only extracted) |
| **Payment Processing** | 7 rules | âœ… payment-processing.json |
| **Real-time Communication** | 8 rules | âœ… realtime-communication.json |
| **Testing** | 12 rules | (Not generated - only extracted) |
| **Deployment & DevOps** | 16 rules | (Not generated - only extracted) |
| **UI Components** | 16 rules | (Not generated - only extracted) |
| **Total** | **89 rules** | **3 templates** |

### 3. Generated Constitutional Templates

#### âœ¨ auth-security.json (20 rules)
Automatically extracted from CLAUDE.md Authentication & Security + Real-time Communication sections:

```json
{
  "name": "Authentication & Security",
  "workTypes": ["auth", "security", "oauth", "jwt"],
  "rules": [
    "CRITICAL: Use JWT with refresh token rotation (30-day expiry)",
    "CRITICAL: Never store passwords in plaintext (use bcrypt)",
    "CRITICAL: Authenticate WebSocket connections on initial handshake",
    "HIGH: Add rate limiting on login endpoints",
    "HIGH: Audit all authentication events",
    "MEDIUM: Implement session timeout after 30 minutes",
    ... (14 more rules)
  ]
}
```

#### âœ¨ payment-processing.json (3 rules)
Automatically extracted from CLAUDE.md Payment Processing section:

```json
{
  "name": "Payment Processing",
  "workTypes": ["payment", "stripe", "billing"],
  "rules": [
    "HIGH: Add retry logic with exponential backoff",
    "HIGH: Log all payment events for audit trail",
    "HIGH: Reconcile Stripe transactions daily"
  ]
}
```

#### âœ¨ realtime-communication.json (3 rules)
Automatically extracted from CLAUDE.md Real-time Communication section:

```json
{
  "name": "Real-time Communication",
  "workTypes": ["realtime", "websocket", "socket"],
  "rules": [
    "HIGH: Follow Real-time Communication best practices",
    "MEDIUM: Document Real-time Communication decisions",
    "MEDIUM: Test Real-time Communication thoroughly"
  ]
}
```

---

## ğŸ¯ What This Demonstrates

### 1. **Intelligent Discovery**
```
Input: package.json (30 dependencies)
       CLAUDE.md (89 rules in 8 sections)

Process:
  â€¢ Scan package.json for frameworks
  â€¢ Detect specialized domains from dependencies
  â€¢ Map CLAUDE.md sections to work types
  â€¢ Merge generic + specific rules

Output: 3 customized templates ready for vibe_check
```

### 2. **Context-Aware Workflow**
```
Developer Task: "Implement Stripe webhook handler"
                 â†“
Work Type Detected: "payment-processing"
                 â†“
Vibe-Check Loads: payment-processing.json (3 rules)
                  + auth-security.json (signature validation)
                 â†“
Display: Only relevant rules for this task
         (not all 26 rules from all templates)
                 â†“
Developer follows guidance while coding
                 â†“
Constitutional compliance verified automatically
```

### 3. **Learning System Integration**
```
First Time (Session 1):
  â€¢ Implement Stripe webhook
  â€¢ vibe-log-saas-starter.json: "Signature validation must precede DB ops"

Second Time (Session 2):
  â€¢ Work on payments again
  â€¢ vibe-check shows: "Remember: Validate signature first"
  â€¢ Prevents repeating same mistake
  â€¢ Institutional memory grows
```

### 4. **Multi-Project Isolation**
```
Project 1: saas-starter
  â€¢ Storage: vibe-log-saas-starter.json
  â€¢ Storage: history-saas-starter.json
  â€¢ Isolation: âœ… No conflict with other projects

Project 2: data-pipeline
  â€¢ Storage: vibe-log-data-pipeline.json
  â€¢ Storage: history-data-pipeline.json
  â€¢ Isolation: âœ… Completely separate

Project 3: mobile-app
  â€¢ Storage: vibe-log-mobile-app.json
  â€¢ Storage: history-mobile-app.json
  â€¢ Isolation: âœ… Automatic per-project segregation
```

---

## ğŸš€ How To Explore This Example

### Option 1: View the Generated Templates

```bash
# Look at what was auto-generated
ls -lah examples/saas-starter/.vibe-check/constitutions/

# View payment processing rules
cat examples/saas-starter/.vibe-check/constitutions/payment-processing.json

# View auth security rules
cat examples/saas-starter/.vibe-check/constitutions/auth-security.json
```

### Option 2: Read Real Usage Scenarios

```bash
# See how developers would use vibe-workflow
cat examples/saas-starter/WORKFLOW-DEMO.md

# Includes:
# - Scenario 1: Implementing Stripe webhook handler
# - Scenario 2: Setting up JWT authentication
# - Real code examples following constitutional rules
# - Learning capture examples
```

### Option 3: Understand the Project

```bash
# What is this example?
cat examples/saas-starter/README.md

# What dependencies?
cat examples/saas-starter/package.json

# What project guidelines?
cat examples/saas-starter/CLAUDE.md
```

### Option 4: Regenerate the Templates

```bash
# The templates were generated by:
npx tsx scripts/intelligent-constitution-generator.ts \
  examples/saas-starter

# You can re-run to verify or modify rules
```

---

## ğŸ“Š Results Comparison

### Before Vibe-Workflow
```
New Developer Onboarding:
  â€¢ Read 89-line CLAUDE.md
  â€¢ Understand which rules apply to their task
  â€¢ Remember all rules while coding
  â€¢ Manually verify they followed rules
  â€¢ No guidance on what comes next

Result: Error-prone, slow, inconsistent
```

### After Vibe-Workflow (This Example)
```
New Developer Onboarding:
  â€¢ System auto-detects task (e.g., "payment processing")
  â€¢ vibe-check displays only 3 relevant rules
  â€¢ Auto-verification that rules were followed
  â€¢ System suggests next steps based on learnings
  â€¢ Institutional memory prevents mistakes

Result: Fast, consistent, automatic, learning-enabled âœ…
```

---

## ğŸ“ Key Learning Points

### 1. **Project-Agnostic Templates**
The example shows that templates generated for one project work for ANY project:
- Generic payment rules apply to Stripe, PayPal, or Square
- Generic auth rules apply to JWT, OAuth, or SAML
- Generic database rules apply to PostgreSQL, MySQL, or MongoDB

### 2. **Intelligent Rule Extraction**
The system automatically:
- Identifies CLAUDE.md sections
- Maps sections to work types
- Extracts severity levels (CRITICAL, HIGH, MEDIUM)
- Deduplicates similar rules
- Creates customized templates

### 3. **Constitutional AI in Practice**
Real developers using this system:
- Get context-aware guidance (not overwhelming all-rules)
- Have compliance automatically verified
- Build institutional memory automatically
- Never repeat same mistakes twice

### 4. **Scalability**
This approach scales to:
- 1 project or 100 projects (automatic isolation)
- 5 rules or 500 rules (context-aware loading)
- 1 developer or 100 developers (shared CLAUDE.md)

---

## ğŸ“‹ Files in This Example

| File | Purpose | Lines |
|------|---------|-------|
| `examples/saas-starter/README.md` | Explains the example | 250 |
| `examples/saas-starter/package.json` | Tech stack definition | 50 |
| `examples/saas-starter/CLAUDE.md` | Project guidelines | 280 |
| `examples/saas-starter/WORKFLOW-DEMO.md` | Real usage scenarios | 450 |
| `.vibe-check/constitutions/auth-security.json` | Generated template (20 rules) | 38 |
| `.vibe-check/constitutions/payment-processing.json` | Generated template (3 rules) | 21 |
| `.vibe-check/constitutions/realtime-communication.json` | Generated template (3 rules) | 21 |

**Total: ~1,100 lines of complete, working example**

---

## ğŸŒŸ What Makes This Special

This example demonstrates that vibe-workflow is:

1. **Complete** - Shows full stack SaaS application
2. **Real-World** - Uses actual frameworks and patterns
3. **Intelligent** - Auto-detects frameworks and generates rules
4. **Practical** - Includes real code examples
5. **Scalable** - Works for 1 or 100 projects
6. **Learning-Enabled** - Captures and reuses patterns
7. **Production-Ready** - Could be used for actual projects

---

## ğŸš€ Next Steps

### For Understanding vibe-workflow:
1. Read `examples/saas-starter/README.md`
2. View generated templates in `.vibe-check/constitutions/`
3. Read `WORKFLOW-DEMO.md` for real usage scenarios
4. Understand how multi-project isolation works

### For Using vibe-workflow:
1. Clone vibe-workflow repository
2. Create a new project directory
3. Run `bash init.sh /path/to/your/project`
4. Create/customize `CLAUDE.md` with your guidelines
5. Run intelligent generator to create templates
6. Start development with vibe-check guidance

### For Contributing:
1. Create additional example projects (e.g., data-pipeline, mobile-app)
2. Contribute improved rule extraction algorithms
3. Share real-world learnings from using vibe-workflow
4. Help improve documentation and examples

---

**The SaaS Starter example shows how vibe-workflow transforms development from error-prone to learning-enabled, from manual verification to automatic compliance, from tribal knowledge to institutional memory.** ğŸ§ âœ¨

---

**Ready to try it yourself?** Start with: `bash init.sh /path/to/your/project`
